#N canvas 0 22 1440 856 10;
#X obj 23 38 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 23 59 openpanel;
#N canvas 0 22 450 278 (subpatch) 0;
#X array file 352800 float 2;
#X coords 0 1 352800 -1 200 140 1 0 0;
#X restore 964 38 graph;
#X msg 23 91 read -resize \$1 file;
#X obj 23 119 soundfiler;
#X obj 1224 37 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 1225 134 output~;
#X obj 22 143 s \$0-filelength;
#N canvas 720 22 720 852 power 0;
#X floatatom 36 52 5 0 0 0 - #0-filelength -;
#X obj 36 75 expr log($f1-3)/log(2);
#X obj 36 99 i;
#X obj 36 124 outlet;
#X text 38 32 this computes the size of the array for later playback
;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X restore 23 191 pd power;
#X obj 23 220 s \$0-maxpower;
#X obj 295 72 hsl 160 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 6000 1;
#X text 289 50 Sample Size;
#X obj 342 91 r \$0-maxpower;
#X obj 291 108 *;
#X obj 291 134 i;
#X obj 291 182 s \$0-samplesize;
#X obj 303 260 t b f;
#X obj 303 289 -;
#X obj 303 314 t b f;
#X obj 303 358 s \$0-resizebang;
#X obj 330 339 s \$0-maxstart;
#X obj 303 233 r \$0-samplesize;
#X obj 291 212 r \$0-filelength;
#N canvas 0 22 1026 559 (subpatch) 0;
#X array sample 67 float 2;
#X coords 0 1 67 -1 200 140 1;
#X restore 966 200 graph;
#X obj 291 393 r \$0-samplesize;
#X floatatom 291 419 5 0 0 0 - - -;
#X msg 291 444 \; sample resize \$1;
#X obj 291 157 expr if($i1 > 3 \, pow(2 \, $i1) + 3 \, 11);
#X text 552 48 Sample Start Point;
#X obj 552 68 hsl 128 15 0 1 0 0 empty \$0-resizebang empty -2 -8 0
10 -262144 -1 -1 3100 1;
#X obj 564 86 r \$0-maxstart;
#X obj 549 140 *;
#X obj 549 170 i;
#X floatatom 564 113 5 0 0 0 - - -;
#X obj 549 203 s \$0-samplestart;
#X floatatom 289 32 10 0 0 0 - #0-samplesize -;
#X floatatom 544 29 10 0 0 0 - #0-samplestart -;
#X obj 738 71 hsl 128 15 0 1 0 0 empty \$0-resizebang empty -2 -8 0
10 -262144 -1 -1 5700 1;
#X obj 735 148 *;
#X obj 735 171 i;
#X floatatom 738 30 5 0 0 0 - #0-smoother -;
#X text 738 49 Head/Tail;
#X obj 735 201 s \$0-smoother;
#X obj 750 115 * 0.5;
#X obj 750 90 r \$0-samplesize;
#X text 20 264 Load Sample;
#X text 20 17 Load File;
#X obj 1224 64 tabplay~ sample;
#X obj 21 362 until;
#X obj 21 388 f;
#X obj 51 388 + 1;
#X msg 65 361 0;
#X floatatom 42 283 5 0 0 0 - #0-samplesize -;
#X obj 21 335 t f b;
#X obj 21 314 i;
#X obj 21 284 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 21 418 s \$0-indexpoint;
#N canvas 720 22 720 800 samplebuild 0;
#X floatatom 50 95 5 0 0 0 - - -;
#X obj 50 74 r \$0-samplesize;
#X floatatom -67 92 5 0 0 0 - - -;
#X obj -67 69 r \$0-smoother;
#X obj -184 28 r \$0-indexpoint;
#X floatatom -184 50 5 0 0 0 - - -;
#X obj -184 166 tabwrite sample;
#X obj -184 114 expr if($f1 < $f2 \, $f4 * pow($f1/$f2 \, 2) \, if($f1
< $f3 && $f1 > ($f3-$f2) \, $f4 * pow((-1 - $f1 + $f3)/$f2 \, 2) \,
$f4)) \;;
#X obj 167 91 tabread file;
#X obj 182 22 r \$0-samplestart;
#X floatatom 182 45 5 0 0 0 - - -;
#X obj 167 67 +;
#X text -184 195 This will apply to the sound a head/tail fading depending
on the smoother value. The logic is: - Head (indexpoint < smoother):
The signal is timed with a growing power of the ratio between the smooth
and the index - Body: No modification - Tail (indexpoint > end - smoother):
Same as head \, but in reverse \, it's a descending fader.;
#X connect 0 0 7 2;
#X connect 1 0 0 0;
#X connect 2 0 7 1;
#X connect 3 0 2 0;
#X connect 4 0 5 0;
#X connect 5 0 7 0;
#X connect 5 0 11 0;
#X connect 5 0 6 1;
#X connect 7 0 6 0;
#X connect 8 0 7 3;
#X connect 9 0 10 0;
#X connect 10 0 11 1;
#X connect 11 0 8 0;
#X restore 90 286 pd samplebuild;
#X obj 29 505 notein;
#X obj 29 570 pack 0 0 0;
#N canvas 720 22 720 800 polySynth 0;
#X obj 22 17 inlet polyPack;
#X obj 22 44 route 1 2 3 4 5 6 7 8;
#X obj 22 235 s \$0-1;
#X obj 700 53 r \$0-1;
#X obj 700 89 oscillator~;
#X obj 702 110 r \$0-2;
#X obj 702 169 r \$0-3;
#X obj 703 228 r \$0-4;
#X obj 704 286 r \$0-5;
#X obj 706 343 r \$0-6;
#X obj 706 402 r \$0-7;
#X obj 707 461 r \$0-8;
#X obj 37 212 s \$0-2;
#X obj 52 189 s \$0-3;
#X obj 68 166 s \$0-4;
#X obj 83 147 s \$0-5;
#X obj 98 124 s \$0-6;
#X obj 114 101 s \$0-7;
#X obj 129 78 s \$0-8;
#X obj 763 51 r \$0-bend;
#X obj 765 108 r \$0-bend;
#X obj 770 166 r \$0-bend;
#X obj 770 228 r \$0-bend;
#X obj 767 287 r \$0-bend;
#X obj 767 349 r \$0-bend;
#X obj 766 399 r \$0-bend;
#X obj 766 461 r \$0-bend;
#X obj 223 49 r \$0-fmState;
#X obj 380 51 r \$0-fmRange;
#X obj 551 49 r \$0-modShape;
#X obj 318 49 ctlin 7;
#X obj 379 162 mtof;
#X text 282 25 Volume knob is channel 7;
#X obj 315 220 *~;
#X obj 946 71 catch~ fmMod;
#X obj 168 226 sig~ 0;
#X obj 168 264 spigot~;
#X obj 234 264 spigot~;
#X obj 239 314 throw~ fmMod;
#X obj 159 313 throw~ fmMod;
#X obj 462 50 r \$0-amToggle;
#X obj 344 337 spigot~;
#X obj 410 337 spigot~;
#X obj 381 231 +~ 1;
#X obj 381 258 /~ 2;
#X obj 344 299 sig~ 1;
#X obj 369 563 *~;
#X obj 373 718 outlet~;
#X obj 702 146 oscillator~;
#X obj 702 205 oscillator~;
#X obj 703 264 oscillator~;
#X obj 704 322 oscillator~;
#X obj 706 379 oscillator~;
#X obj 706 438 oscillator~;
#X obj 707 497 oscillator~;
#X obj 379 190 oscGenerator~;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 12 0;
#X connect 1 2 13 0;
#X connect 1 3 14 0;
#X connect 1 4 15 0;
#X connect 1 5 16 0;
#X connect 1 6 17 0;
#X connect 1 7 18 0;
#X connect 3 0 4 0;
#X connect 4 0 46 0;
#X connect 5 0 48 0;
#X connect 6 0 49 0;
#X connect 7 0 50 0;
#X connect 8 0 51 0;
#X connect 9 0 52 0;
#X connect 10 0 53 0;
#X connect 11 0 54 0;
#X connect 19 0 4 1;
#X connect 20 0 48 1;
#X connect 21 0 49 1;
#X connect 22 0 50 1;
#X connect 23 0 51 1;
#X connect 24 0 52 1;
#X connect 25 0 53 1;
#X connect 26 0 54 1;
#X connect 27 0 36 1;
#X connect 27 0 37 1;
#X connect 28 0 31 0;
#X connect 29 0 55 1;
#X connect 30 0 33 0;
#X connect 31 0 55 0;
#X connect 33 0 37 0;
#X connect 34 0 4 2;
#X connect 34 0 48 2;
#X connect 34 0 49 2;
#X connect 34 0 50 2;
#X connect 34 0 51 2;
#X connect 34 0 52 2;
#X connect 34 0 53 2;
#X connect 34 0 54 2;
#X connect 35 0 36 0;
#X connect 36 0 39 0;
#X connect 37 1 38 0;
#X connect 40 0 42 1;
#X connect 40 0 41 1;
#X connect 41 0 46 1;
#X connect 42 1 46 1;
#X connect 43 0 44 0;
#X connect 44 0 42 0;
#X connect 45 0 41 0;
#X connect 46 0 47 0;
#X connect 48 0 46 0;
#X connect 49 0 46 0;
#X connect 50 0 46 0;
#X connect 51 0 46 0;
#X connect 52 0 46 0;
#X connect 53 0 46 0;
#X connect 54 0 46 0;
#X connect 55 0 33 1;
#X connect 55 0 43 0;
#X restore 31 597 pd polySynth;
#X text 25 477 Midi In And Synth;
#N canvas 458 279 797 366 pitchBend 0;
#X obj 37 26 bendin 1;
#X floatatom 37 78 5 0 0 0 - - -;
#X text 110 7 The Midi value sent by the keystation mini 32 is contains
between 0 and 8192*2 \, so scale the value to get a -1 / 1 range.;
#X obj 160 77 inlet scale;
#X obj 37 52 expr $f1 / 8192 - 1;
#X msg 146 195 2;
#X msg 205 195 4;
#X msg 236 195 6;
#X msg 267 195 12;
#X msg 176 195 3;
#X obj 200 241 t b f;
#X obj 149 286 *;
#X obj 94 131 loadbang;
#X obj 149 309 s \$0-bend;
#X obj 160 104 sel 0 1 2 3 4;
#X connect 0 0 4 0;
#X connect 1 0 11 0;
#X connect 3 0 14 0;
#X connect 4 0 1 0;
#X connect 5 0 10 0;
#X connect 6 0 10 0;
#X connect 7 0 10 0;
#X connect 8 0 10 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 10 1 11 1;
#X connect 11 0 13 0;
#X connect 12 0 5 0;
#X connect 14 0 5 0;
#X connect 14 1 9 0;
#X connect 14 2 6 0;
#X connect 14 3 7 0;
#X connect 14 4 8 0;
#X restore 221 632 pd pitchBend;
#X obj 221 545 vradio 15 1 0 5 empty empty empty 0 -8 0 10 -262144
-1 -1 4;
#X text 222 524 Pitch Bend Range;
#X text 239 545 2st;
#X text 239 560 3st;
#X text 239 575 4st;
#X text 239 590 6st;
#X text 239 605 1oc;
#X obj 495 528 tgl 15 0 \$0-fmState empty empty 17 7 0 10 -262144 -1
-1 0 1;
#X text 424 526 \$0-fmState;
#X obj 499 551 hsl 128 15 0 10 0 0 \$0-fmRange empty empty -2 -8 0
10 -262144 -1 -1 0 1;
#X text 425 548 \$0-fmRange;
#X obj 497 573 hradio 15 1 0 5 \$0-modShape empty empty 0 -8 0 10 -262144
-1 -1 1;
#X text 426 573 \$0-modShape;
#X obj 495 507 tgl 15 0 \$0-amToggle empty empty 17 7 0 10 -262144
-1 -1 0 1;
#X text 424 505 \$0-amToggle;
#X obj 535 611 hsl 128 15 0 10000 0 0 attackTime empty empty -2 -8
0 10 -262144 -1 -1 0 1;
#X obj 535 626 hsl 128 15 0 10000 0 0 decayTime empty empty -2 -8 0
10 -262144 -1 -1 5600 1;
#X obj 535 641 hsl 128 15 0 1 0 0 sustainLevel empty empty -2 -8 0
10 -262144 -1 -1 6300 1;
#X obj 535 656 hsl 128 15 0 10000 0 0 releaseTime empty empty -2 -8
0 10 -262144 -1 -1 2600 1;
#X text 426 640 sustainLevel;
#X text 426 626 decayTime;
#X text 426 611 attackTime;
#X text 426 653 releaseTime;
#X obj 29 539 poly 8 1;
#X obj 35 725 tgl 15 0 \$0-hpToggle empty High_Pass 0 -7 0 10 -262144
-1 -1 1 1;
#X obj 38 756 hsl 128 15 20 20000 1 0 \$0-hpFreq empty Freq -2 -8 0
10 -262144 -1 -1 0 1;
#X floatatom 173 756 8 0 0 0 - #0-hpFreq -;
#X obj 82 896 oscGenerator~;
#X obj 82 792 vsl 15 90 1 20 0 0 empty empty Rate 0 -9 0 10 -262144
-1 -1 2400 1;
#X obj 157 794 vradio 15 1 0 6 \$0-hpOsc empty empty 0 -8 0 10 -262144
-1 -1 1;
#X obj 50 791 vsl 15 90 20 20000 0 0 empty empty Range 0 -9 0 10 -262144
-1 -1 4500 1;
#X obj 82 923 expr~ ($v1 + 1)/2;
#X obj 50 947 *~;
#X obj 50 1004 spigot~;
#X obj 89 976 != 5;
#X obj 35 1042 +~;
#X obj 14 1108 hip~;
#X obj 133 991 loadbang;
#X obj 109 1039 metro 1;
#X obj 35 1074 snapshot~;
#X obj 958 802 output~;
#X obj 31 626 throw~ $hpFilter;
#X obj -82 1023 catch~ $hpFilter;
#X obj -29 1047 spigot~;
#X obj -26 1083 spigot~;
#X obj -57 1048 r \$0-hpToggle;
#X msg 109 1018 bang;
#X obj 89 947 r \$0-hpOsc;
#X obj 309 720 tgl 15 0 \$0-lpToggle empty Low_Pass 0 -7 0 10 -262144
-1 -1 1 1;
#X obj 312 751 hsl 128 15 20 20000 1 0 \$0-lpFreq empty Freq -2 -8
0 10 -262144 -1 -1 10200 1;
#X floatatom 447 751 8 0 0 0 - #0-lpFreq -;
#X obj 356 891 oscGenerator~;
#X obj 356 787 vsl 15 90 1 20 0 0 empty empty Rate 0 -9 0 10 -262144
-1 -1 1000 1;
#X obj 431 789 vradio 15 1 0 6 \$0-lpOsc empty empty 0 -8 0 10 -262144
-1 -1 0;
#X obj 324 786 vsl 15 90 20 20000 0 0 empty empty Range 0 -9 0 10 -262144
-1 -1 1700 1;
#X obj 324 942 *~;
#X obj 324 999 spigot~;
#X obj 363 971 != 5;
#X obj 309 1037 +~;
#X obj 407 986 loadbang;
#X obj 383 1034 metro 1;
#X obj 309 1069 snapshot~;
#X obj 198 1078 spigot~;
#X obj 248 1078 spigot~;
#X msg 383 1013 bang;
#X obj 363 942 r \$0-lpOsc;
#X obj 192 1018 catch~ $lpFilter;
#X obj 217 1043 r \$0-lpToggle;
#X obj 288 1103 lop~;
#X obj 824 752 catch~ output;
#X obj 14 1141 throw~ $lpFilter;
#X obj 356 918 expr~ ($v1 - 1)/2;
#X obj 567 721 tgl 15 0 \$0-bpToggle empty Bande_Pass 0 -7 0 10 -262144
-1 -1 0 1;
#X obj 570 752 hsl 128 15 20 20000 1 0 \$0-bpFreq empty Freq -2 -8
0 10 -262144 -1 -1 2400 1;
#X floatatom 705 752 8 0 0 0 - #0-bpFreq -;
#X obj 614 892 oscGenerator~;
#X obj 614 788 vsl 15 90 1 20 0 0 empty empty Rate 0 -9 0 10 -262144
-1 -1 7900 1;
#X obj 689 790 vradio 15 1 0 6 \$0-bpOsc empty empty 0 -8 0 10 -262144
-1 -1 0;
#X obj 582 787 vsl 15 90 20 20000 0 0 empty empty Range 0 -9 0 10 -262144
-1 -1 6600 1;
#X obj 582 943 *~;
#X obj 582 1000 spigot~;
#X obj 621 972 != 5;
#X obj 567 1038 +~;
#X obj 665 987 loadbang;
#X obj 641 1035 metro 1;
#X obj 567 1070 snapshot~;
#X obj 456 1079 spigot~;
#X obj 506 1079 spigot~;
#X msg 641 1014 bang;
#X obj 546 1137 throw~ output;
#X obj 621 943 r \$0-bpOsc;
#X obj 450 1019 catch~ $bpFilter;
#X obj 475 1044 r \$0-bpToggle;
#X obj 288 1136 throw~ $bpFilter;
#X obj 546 1104 vcf~;
#X obj 621 1100 hsl 128 15 20 5 1 0 empty empty Q -2 -8 0 10 -262144
-1 -1 3100 1;
#N canvas 834 96 482 471 antialias 0;
#X obj 31 279 *~ 0.125;
#X obj 31 302 rzero~ -1;
#X obj 31 325 rzero~ -1;
#X obj 31 348 rzero~ -1;
#X obj 31 382 outlet~;
#X obj 30 176 rpole~ 0.87467;
#X obj 30 153 *~ 0.12532;
#X obj 30 199 *~ 0.01668;
#X obj 30 222 cpole~ 0.9293 0.10812;
#X obj 30 248 cpole~ 0.9293 -0.10812;
#X obj 31 41 inlet~;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 5 0 7 0;
#X connect 6 0 5 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 8 1 9 1;
#X connect 9 0 0 0;
#X connect 10 0 6 0;
#X restore 824 784 pd antialias;
#X obj 823 1090 writesf~ 1;
#X obj 854 844 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 855 868 t b b;
#X obj 882 891 f 0;
#X obj 919 890 + 1;
#X msg 916 868 0;
#X msg 855 918 start;
#X obj 878 945 makefilename sound%d.wav;
#X msg 878 973 open -bytes 3 \$1;
#X text 850 821 start;
#X text 882 993 stop;
#X msg 887 1030 stop;
#X obj 887 1010 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 200 140 1;
#X restore 100 20 graph;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 7 0;
#X connect 5 0 47 0;
#X connect 8 0 9 0;
#X connect 10 0 13 0;
#X connect 12 0 13 1;
#X connect 13 0 14 0;
#X connect 14 0 27 0;
#X connect 16 0 17 0;
#X connect 16 1 17 1;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 18 1 20 0;
#X connect 21 0 16 0;
#X connect 22 0 17 0;
#X connect 24 0 25 0;
#X connect 25 0 26 0;
#X connect 27 0 15 0;
#X connect 29 0 31 0;
#X connect 30 0 33 0;
#X connect 31 0 32 0;
#X connect 32 0 34 0;
#X connect 33 0 31 1;
#X connect 37 0 38 0;
#X connect 38 0 39 0;
#X connect 39 0 42 0;
#X connect 43 0 38 1;
#X connect 44 0 43 0;
#X connect 47 0 6 0;
#X connect 47 0 6 1;
#X connect 48 0 49 0;
#X connect 49 0 50 0;
#X connect 49 0 56 0;
#X connect 50 0 49 1;
#X connect 51 0 49 1;
#X connect 52 0 54 1;
#X connect 53 0 48 0;
#X connect 53 1 51 0;
#X connect 54 0 53 0;
#X connect 55 0 54 0;
#X connect 58 0 86 0;
#X connect 58 1 86 1;
#X connect 59 0 60 0;
#X connect 60 0 104 0;
#X connect 63 0 62 0;
#X connect 86 0 59 0;
#X connect 86 1 59 1;
#X connect 86 2 59 2;
#X connect 88 0 98 0;
#X connect 90 0 94 0;
#X connect 91 0 90 0;
#X connect 92 0 90 1;
#X connect 93 0 95 0;
#X connect 94 0 95 1;
#X connect 95 0 96 0;
#X connect 96 1 98 1;
#X connect 97 0 96 1;
#X connect 98 0 102 0;
#X connect 99 0 133 0;
#X connect 100 0 109 0;
#X connect 101 0 102 0;
#X connect 102 0 99 1;
#X connect 105 0 106 0;
#X connect 105 0 107 0;
#X connect 106 0 133 0;
#X connect 107 1 99 0;
#X connect 108 0 106 1;
#X connect 108 0 107 1;
#X connect 109 0 101 0;
#X connect 110 0 97 0;
#X connect 112 0 121 0;
#X connect 114 0 134 0;
#X connect 115 0 114 0;
#X connect 116 0 114 1;
#X connect 117 0 118 0;
#X connect 118 0 119 0;
#X connect 119 1 121 1;
#X connect 120 0 119 1;
#X connect 121 0 124 0;
#X connect 122 0 127 0;
#X connect 123 0 124 0;
#X connect 124 0 131 1;
#X connect 125 0 156 0;
#X connect 126 1 131 0;
#X connect 127 0 123 0;
#X connect 128 0 120 0;
#X connect 129 0 125 0;
#X connect 129 0 126 0;
#X connect 130 0 125 1;
#X connect 130 0 126 1;
#X connect 131 0 156 0;
#X connect 132 0 159 0;
#X connect 134 0 118 1;
#X connect 136 0 145 0;
#X connect 138 0 142 1;
#X connect 139 0 138 0;
#X connect 140 0 138 1;
#X connect 141 0 142 0;
#X connect 142 0 143 0;
#X connect 143 1 145 1;
#X connect 144 0 143 1;
#X connect 145 0 148 0;
#X connect 146 0 151 0;
#X connect 147 0 148 0;
#X connect 148 0 157 1;
#X connect 149 0 152 0;
#X connect 150 1 157 0;
#X connect 151 0 147 0;
#X connect 153 0 144 0;
#X connect 154 0 149 0;
#X connect 154 0 150 0;
#X connect 155 0 149 1;
#X connect 155 0 150 1;
#X connect 157 0 152 0;
#X connect 158 0 157 2;
#X connect 159 0 103 0;
#X connect 159 0 103 1;
#X connect 159 0 160 0;
#X connect 161 0 162 0;
#X connect 162 0 166 0;
#X connect 162 1 163 0;
#X connect 163 0 164 0;
#X connect 163 0 167 0;
#X connect 164 0 163 1;
#X connect 165 0 163 1;
#X connect 166 0 160 0;
#X connect 167 0 168 0;
#X connect 168 0 160 0;
#X connect 171 0 160 0;
#X connect 172 0 171 0;
