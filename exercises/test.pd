#N canvas 0 22 928 852 10;
#X obj 137 339 drum-kick~;
#X obj 158 359 drum-hihats~;
#X msg 3 -120 bang;
#X msg 39 -121 stop;
#X obj 4 -90 metro;
#X floatatom 82 -113 5 0 0 0 - - -;
#X obj 82 -167 loadbang;
#X msg 82 -144 500;
#X obj 368 148 tgl 15 0 \$0-0-armed \$0-0-arming empty -10 0 0 10 -262144
-1 -1 1 1;
#X obj 383 148 tgl 15 0 \$0-1-armed \$0-1-arming empty 17 7 0 10 -262144
-1 -1 0 1;
#X obj 398 176 tgl 15 0 \$0-drum-line-armed-0 \$0-drum-line-arming-0
empty 17 7 0 10 -262144 -1 -1 0 1;
#X obj 413 176 tgl 15 0 \$0-drum-line-armed-1 \$0-drum-line-arming-1
empty 17 7 0 10 -262144 -1 -1 1 1;
#X floatatom 359 175 5 0 0 0 - #0-patch-name -;
#X obj 428 176 tgl 15 0 \$0-drum-line-armed-2 \$0-drum-line-arming-2
empty 17 7 0 10 -262144 -1 -1 0 1;
#N canvas 632 283 450 300 patch-arming 0;
#X obj 14 -35 pack 0 \$0;
#X obj 141 -38 pack 0 \$0;
#X obj 142 -57 moses 1;
#X obj 14 -55 moses 1;
#X obj 14 -76 r \$0-0-armed;
#X obj 142 -77 r \$0-1-armed;
#X msg 14 -16 \; \$2-patch-name 0 \; \$2-1-arming 0 \; \$2-load-0 bang
;
#X msg 141 -18 \; \$2-patch-name 1 \; \$2-0-arming 0 \; \$2-load-1
bang;
#X text 12 -131 This makes sure that the current patch only is used
\, and displayed. It sets the patch-name \, disarm the other patches
and load the current patch.;
#X connect 0 0 6 0;
#X connect 1 0 7 0;
#X connect 2 1 1 0;
#X connect 3 1 0 0;
#X connect 4 0 3 0;
#X connect 5 0 2 0;
#X restore 702 -144 pd patch-arming;
#N canvas 0 22 1440 856 drum-arming 0;
#X obj 64 51 r \$0-drum-line-armed-0;
#X obj 247 51 r \$0-drum-line-armed-1;
#X obj 334 179 r \$0-patch-name;
#X obj 64 108 pack f f;
#X msg 64 89 0;
#X obj 247 158 t b l;
#X obj 64 70 t b f;
#X obj 247 122 pack f f;
#X obj 247 75 t b f;
#X msg 247 97 1;
#X obj 290 180 unpack;
#X msg 247 224 \; \$2-\$5-arming-\$3 \$4;
#X obj 247 202 pack 0 \$0 f f f;
#X obj 396 124 pack f f;
#X obj 396 77 t b f;
#X obj 396 53 r \$0-drum-line-armed-2;
#X msg 396 99 2;
#X text 39 -5 This get the drum line toggle and applies it to the correct
patch.;
#X connect 0 0 6 0;
#X connect 1 0 8 0;
#X connect 2 0 12 4;
#X connect 3 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 12 0;
#X connect 5 1 10 0;
#X connect 6 0 4 0;
#X connect 6 1 3 1;
#X connect 7 0 5 0;
#X connect 8 0 9 0;
#X connect 8 1 7 1;
#X connect 9 0 7 0;
#X connect 10 0 12 2;
#X connect 10 1 12 3;
#X connect 12 0 11 0;
#X connect 13 0 5 0;
#X connect 14 0 16 0;
#X connect 14 1 13 1;
#X connect 15 0 14 0;
#X connect 16 0 13 0;
#X restore 702 -124 pd drum-arming;
#N canvas 819 102 450 300 memory 0;
#X obj 29 122 toggle-gate;
#X obj 156 122 toggle-gate;
#X obj 29 206 toggle-gate;
#X obj 157 204 toggle-gate;
#X obj 29 80 r \$0-0-checking-0;
#X obj 37 98 r \$0-0-arming-0;
#X obj 156 80 r \$0-0-checking-1;
#X obj 164 98 r \$0-0-arming-1;
#X obj 156 142 s \$0-0-armed-1;
#X obj 157 164 r \$0-1-checking-1;
#X obj 165 182 r \$0-1-arming-1;
#X obj 157 224 s \$0-1-armed-1;
#X obj 29 224 s \$0-1-armed-0;
#X obj 37 182 r \$0-1-arming-0;
#X obj 29 164 r \$0-1-checking-0;
#X obj 29 143 s \$0-0-armed-0;
#X obj 273 123 toggle-gate;
#X obj 274 205 toggle-gate;
#X obj 273 81 r \$0-0-checking-2;
#X obj 281 99 r \$0-0-arming-2;
#X obj 273 143 s \$0-0-armed-2;
#X obj 274 165 r \$0-1-checking-2;
#X obj 282 183 r \$0-1-arming-2;
#X obj 274 225 s \$0-1-armed-2;
#X text 29 15 This holds the memory of the machine. A line is a patch
\, a column is a time.;
#X connect 0 0 15 0;
#X connect 1 0 8 0;
#X connect 2 0 12 0;
#X connect 3 0 11 0;
#X connect 4 0 0 0;
#X connect 5 0 0 1;
#X connect 6 0 1 0;
#X connect 7 0 1 1;
#X connect 9 0 3 0;
#X connect 10 0 3 1;
#X connect 13 0 2 1;
#X connect 14 0 2 0;
#X connect 16 0 20 0;
#X connect 17 0 23 0;
#X connect 18 0 16 0;
#X connect 19 0 16 1;
#X connect 21 0 17 0;
#X connect 22 0 17 1;
#X restore 702 -103 pd memory;
#N canvas 0 22 1440 856 drum-loading 0;
#X obj 117 151 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 185 198 1;
#X obj 117 171 t b b;
#X obj 227 240 spigot;
#X msg 299 240 0;
#X msg 363 196 1;
#X obj 295 169 t b b;
#X obj 636 147 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 704 194 1;
#X obj 636 167 t b b;
#X obj 814 145 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 872 188 1;
#X obj 814 165 t b b;
#X obj 49 242 spigot;
#X msg 120 242 0;
#X obj 568 237 spigot;
#X msg 640 237 0;
#X msg 76 289 0;
#X obj 49 310 pack f f;
#X obj 49 267 t f b;
#X obj 406 362 t b l;
#X obj 449 384 unpack;
#X obj 406 415 pack 0 \$0 f f;
#X obj 227 308 pack f f;
#X obj 227 265 t f b;
#X msg 594 286 0;
#X obj 567 307 pack f f;
#X obj 567 264 t f b;
#X obj 745 244 spigot;
#X msg 817 244 0;
#X obj 744 314 pack f f;
#X obj 744 271 t f b;
#X msg 771 293 1;
#X msg 254 287 1;
#X obj 295 149 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 406 437 \; \$2-drum-line-arming-\$4 \$3;
#X text 37 403 The spigot and the two messages ensure that only here
we get the value and update the visual \, elsewere it's just getting
the value back;
#X obj 215 74 r \$0-load-0;
#X obj 650 69 r \$0-load-1;
#X obj 49 198 s \$0-0-checking-0;
#X obj 49 218 r \$0-0-armed-0;
#X obj 227 196 s \$0-0-checking-1;
#X obj 227 216 r \$0-0-armed-1;
#X obj 568 194 s \$0-1-checking-0;
#X obj 568 214 r \$0-1-armed-0;
#X obj 746 192 s \$0-1-checking-1;
#X obj 746 212 r \$0-1-armed-1;
#X obj 397 239 spigot;
#X msg 469 239 0;
#X msg 533 195 1;
#X obj 465 168 t b b;
#X obj 397 307 pack f f;
#X obj 397 264 t f b;
#X obj 465 148 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 215 116 t b b b;
#X obj 970 141 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 1028 184 1;
#X obj 970 161 t b b;
#X obj 901 240 spigot;
#X msg 973 240 0;
#X obj 900 310 pack f f;
#X obj 900 267 t f b;
#X obj 650 112 t b b b;
#X msg 927 289 2;
#X msg 424 286 2;
#X obj 902 188 s \$0-1-checking-2;
#X obj 397 195 s \$0-0-checking-2;
#X obj 397 215 r \$0-0-armed-2;
#X obj 902 208 r \$0-1-armed-2;
#X text 63 19 This loads the memory into the drum line.;
#X connect 0 0 2 0;
#X connect 1 0 13 1;
#X connect 2 0 39 0;
#X connect 2 1 1 0;
#X connect 3 0 4 0;
#X connect 3 0 24 0;
#X connect 4 0 3 1;
#X connect 5 0 3 1;
#X connect 6 0 41 0;
#X connect 6 1 5 0;
#X connect 7 0 9 0;
#X connect 8 0 15 1;
#X connect 9 0 43 0;
#X connect 9 1 8 0;
#X connect 10 0 12 0;
#X connect 11 0 28 1;
#X connect 12 0 45 0;
#X connect 12 1 11 0;
#X connect 13 0 14 0;
#X connect 13 0 19 0;
#X connect 14 0 13 1;
#X connect 15 0 16 0;
#X connect 15 0 27 0;
#X connect 16 0 15 1;
#X connect 17 0 18 1;
#X connect 18 0 20 0;
#X connect 19 0 18 0;
#X connect 19 1 17 0;
#X connect 20 0 22 0;
#X connect 20 1 21 0;
#X connect 21 0 22 2;
#X connect 21 1 22 3;
#X connect 22 0 35 0;
#X connect 23 0 20 0;
#X connect 24 0 23 0;
#X connect 24 1 33 0;
#X connect 25 0 26 1;
#X connect 26 0 20 0;
#X connect 27 0 26 0;
#X connect 27 1 25 0;
#X connect 28 0 29 0;
#X connect 28 0 31 0;
#X connect 29 0 28 1;
#X connect 30 0 20 0;
#X connect 31 0 30 0;
#X connect 31 1 32 0;
#X connect 32 0 30 1;
#X connect 33 0 23 1;
#X connect 34 0 6 0;
#X connect 37 0 54 0;
#X connect 38 0 62 0;
#X connect 40 0 13 0;
#X connect 42 0 3 0;
#X connect 44 0 15 0;
#X connect 46 0 28 0;
#X connect 47 0 48 0;
#X connect 47 0 52 0;
#X connect 48 0 47 1;
#X connect 49 0 47 1;
#X connect 50 0 66 0;
#X connect 50 1 49 0;
#X connect 51 0 20 0;
#X connect 52 0 51 0;
#X connect 52 1 64 0;
#X connect 53 0 50 0;
#X connect 54 0 0 0;
#X connect 54 1 34 0;
#X connect 54 2 53 0;
#X connect 55 0 57 0;
#X connect 56 0 58 1;
#X connect 57 0 65 0;
#X connect 57 1 56 0;
#X connect 58 0 59 0;
#X connect 58 0 61 0;
#X connect 59 0 58 1;
#X connect 60 0 20 0;
#X connect 61 0 60 0;
#X connect 61 1 63 0;
#X connect 62 0 7 0;
#X connect 62 1 10 0;
#X connect 62 2 55 0;
#X connect 63 0 60 1;
#X connect 64 0 51 1;
#X connect 67 0 47 0;
#X connect 68 0 58 0;
#X restore 702 -82 pd drum-loading;
#N canvas 524 22 916 852 playing 1;
#X obj 40 102 bng 15 250 50 0 empty \$0-drum-line-time-0 empty 17 7
0 10 -262144 -1 -1;
#X msg 186 158 1;
#X obj 50 131 t b b;
#X obj 50 202 spigot;
#X msg 121 202 0;
#X obj 50 158 s \$0-0-checking-0;
#X obj 50 178 r \$0-0-armed-0;
#X msg 160 406 1;
#X obj 45 383 t b b;
#X obj 45 451 spigot;
#X msg 116 451 0;
#X obj 45 407 s \$0-1-checking-0;
#X obj 45 427 r \$0-1-armed-0;
#X obj 221 94 bng 15 250 50 0 empty \$0-drum-line-time-1 empty 17 7
0 10 -262144 -1 -1;
#X msg 367 150 1;
#X obj 231 123 t b b;
#X obj 231 194 spigot;
#X msg 302 194 0;
#X msg 362 379 1;
#X obj 226 355 t b b;
#X obj 226 423 spigot;
#X msg 297 423 0;
#X obj 414 95 bng 15 250 50 0 empty \$0-drum-line-time-2 empty 17 7
0 10 -262144 -1 -1;
#X msg 560 151 1;
#X obj 424 124 t b b;
#X obj 424 195 spigot;
#X msg 495 195 0;
#X msg 555 380 1;
#X obj 419 356 t b b;
#X obj 419 424 spigot;
#X msg 490 424 0;
#X obj 231 150 s \$0-0-checking-1;
#X obj 231 170 r \$0-0-armed-1;
#X obj 226 379 s \$0-1-checking-1;
#X obj 226 399 r \$0-1-armed-1;
#X obj 424 151 s \$0-0-checking-2;
#X obj 424 171 r \$0-0-armed-2;
#X obj 419 380 s \$0-1-checking-2;
#X obj 419 400 r \$0-1-armed-2;
#X obj 655 254 moses 1;
#X obj 675 545 moses 1;
#X obj 692 285 s \$0-0-play;
#X obj 713 567 s \$0-1-play;
#X connect 0 0 2 0;
#X connect 0 0 8 0;
#X connect 1 0 3 1;
#X connect 2 0 5 0;
#X connect 2 1 1 0;
#X connect 3 0 4 0;
#X connect 3 0 39 0;
#X connect 4 0 3 1;
#X connect 6 0 3 0;
#X connect 7 0 9 1;
#X connect 8 0 11 0;
#X connect 8 1 7 0;
#X connect 9 0 10 0;
#X connect 9 0 40 0;
#X connect 10 0 9 1;
#X connect 12 0 9 0;
#X connect 13 0 15 0;
#X connect 13 0 19 0;
#X connect 14 0 16 1;
#X connect 15 0 31 0;
#X connect 15 1 14 0;
#X connect 16 0 17 0;
#X connect 16 0 39 0;
#X connect 17 0 16 1;
#X connect 18 0 20 1;
#X connect 19 0 33 0;
#X connect 19 1 18 0;
#X connect 20 0 21 0;
#X connect 20 0 40 0;
#X connect 21 0 20 1;
#X connect 22 0 24 0;
#X connect 22 0 28 0;
#X connect 23 0 25 1;
#X connect 24 0 35 0;
#X connect 24 1 23 0;
#X connect 25 0 26 0;
#X connect 25 0 39 0;
#X connect 26 0 25 1;
#X connect 27 0 29 1;
#X connect 28 0 37 0;
#X connect 28 1 27 0;
#X connect 29 0 30 0;
#X connect 29 0 40 0;
#X connect 30 0 29 1;
#X connect 32 0 16 0;
#X connect 34 0 20 0;
#X connect 36 0 25 0;
#X connect 38 0 29 0;
#X connect 39 1 41 0;
#X connect 40 1 42 0;
#X restore 735 15 pd playing;
#X obj 269 272 r \$0-0-play;
#X obj 343 272 r \$0-1-play;
#X obj 244 473 output~;
#X obj 242 -68 inlet clock-tick;
#X obj 349 -68 inlet clock-reset;
#X obj 242 -16 increment;
#X obj 242 47 pack 0 \$0 \$1;
#X obj 242 4 % 3;
#X msg 242 70 \; \$2-time-\$3 bang \; \$2-drum-line-time-\$3 bang;
#X msg 349 -46 stop;
#X obj 242 25 t b f;
#X connect 0 0 21 0;
#X connect 1 0 21 1;
#X connect 2 0 4 0;
#X connect 3 0 4 0;
#X connect 4 0 24 0;
#X connect 5 0 4 1;
#X connect 6 0 7 0;
#X connect 7 0 5 0;
#X connect 19 0 0 0;
#X connect 20 0 1 0;
#X connect 22 0 24 0;
#X connect 23 0 28 0;
#X connect 24 0 26 0;
#X connect 25 0 27 0;
#X connect 26 0 29 0;
#X connect 28 0 24 1;
#X connect 29 0 25 0;
#X connect 29 1 25 2;
